{"version":3,"sources":["component/B2B System/B2BOrderbill.js"],"names":["B2BOrderbill","_useState","useState","_useState2","_slicedToArray","_useState3","_useState4","customer","setCustomer","_useState5","_useState6","userRole","setuserRole","_useState7","_useState8","order","setOrders","_useState9","_useState10","orderDetail","setorderDetail","stateData","useLocation","state","order_id","orderId","productIds","useEffect","axiosClient","get","then","res","data","catch","err","console","log","response","concat","totalNumofitem","totalPrice","totalActusalPrice","TotalCgst","TotalSgst","length","map","orders","product_price","discount","quantity","reduce","val1","val2","product","TotalSgstPerProduct","sgst","TotalCgstPerProduct","cgst","totalGst","React","createElement","className","style","border","id","undefined","payment_status","name","phone","Village","P_O","City","district","State","Pin","order_date","width","index","key","scope","product_id","product_name","description","colspan","href","Link","to"],"mappings":"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","file":"static/js/98.a92bbf60.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useLocation, useNavigate, useParams } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom';\r\nimport axiosClient from '../axiosClient';\r\nexport default function B2BOrderbill() {\r\n  const [product, setProduct] = useState([]);\r\n  const [customer, setCustomer] = useState([]);\r\n  const [userRole, setuserRole] = useState([]);\r\n  const [order, setOrders] = useState([]);\r\n  const [orderDetail, setorderDetail] = useState([]);\r\n  const location = useLocation();\r\n  let stateData = location.state;\r\n  var order_id = stateData.orderId;\r\n  var productIds = stateData.productIds;\r\n  useEffect(() => {\r\n    axiosClient.get(`/profile`)\r\n      .then(res => {\r\n        if (res.data) {\r\n          setCustomer(res.data[0]);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    axiosClient.get(`/b2b/cart/profile`).then((response) => {\r\n        setCustomer(response.data[0]);\r\n        // setUserAddress(response.data[1]);\r\n        setuserRole(response.data[2]);\r\n\r\n    });\r\n}, []);\r\nif (userRole === 'b2b_employee') {\r\n    // console.log('b2b_employee')\r\n    // useEffect(() => {\r\n        axiosClient.get(`/b2b/b2b-employee/profile`).then((response) => {\r\n            // console.log(response.data);\r\n            setCustomer(response.data[0]);\r\n            // setUserAddress(response.data[1]);\r\n            setuserRole(response.data[2]);\r\n\r\n        });\r\n    // }, []);\r\n}\r\n  \r\n\r\n  useEffect(() => {\r\n    axiosClient.get(`/b2b/sub-admin/orders/order/${order_id}`)\r\n      .then(res => {\r\n        if (res.data !== null) {\r\n            // console.log(res.data)\r\n          setOrders(res.data[0]);\r\n          setorderDetail(res.data[0]);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n\r\n  }, [])\r\n\r\n//   console.log(orderDetail.length>0 ? orderDetail[0].id : undefined);\r\n\r\n  let totalPrice = 0;\r\n  let totalActusalPrice = 0;\r\n  let TotalCgst = 0;\r\n  let TotalSgst = 0;\r\n  let totalNumofitem;\r\n  if (order) {\r\n    totalNumofitem = order.length;\r\n  }\r\n  if (totalNumofitem > 0) {\r\n    let totalPriceArray = order.map((orders => {\r\n      return ((((orders.product_price * orders.discount) / 100)) * orders.quantity);\r\n    }))\r\n    totalPrice = totalPriceArray.reduce((val1, val2) => {\r\n      return val1 + val2;\r\n    }, 0)\r\n  }\r\n  if (totalNumofitem > 0) {\r\n    let totalPriceArray = order.map((product => {\r\n      return (product.product_price * product.quantity);\r\n    }))\r\n    totalActusalPrice = totalPriceArray.reduce((val1, val2) => {\r\n      return val1 + val2;\r\n    }, 0)\r\n  }\r\n  if (totalNumofitem > 0) {\r\n    let TotalSgstPerProduct = order.map((product => {\r\n      return ((((product.product_price * product.sgst) / 100)));\r\n    }))\r\n    let TotalCgstPerProduct = order.map((product => {\r\n      return ((((product.product_price * product.cgst) / 100)));\r\n    }))\r\n    TotalSgst = TotalSgstPerProduct.reduce((val1, val2) => {\r\n      return val1 + val2;\r\n    }, 0)\r\n    TotalCgst = TotalCgstPerProduct.reduce((val1, val2) => {\r\n      return val1 + val2;\r\n    }, 0)\r\n  }\r\n  let totalGst = TotalCgst + TotalSgst;\r\n  const discountPrice = 1;\r\n  const delevaryCharge = 25;\r\n  return (\r\n    <div>\r\n      <div className='m-5 p-3 shadow' style={{ border: '2px solid black' }}>\r\n        <div className=\"container\" >\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-12\">\r\n              <div className=\"card-order \" >\r\n                <div className=\"card-body\">\r\n                  <div className=\"invoice-title\">\r\n                    <h4 className=\"float-end font-size-15\">OrderNo: {orderDetail.length>0 ? orderDetail[0].id : undefined} <span className=\"badge bg-success font-size-12 ms-2\">{orderDetail.length>0 ? orderDetail[0].payment_status : undefined}</span></h4>\r\n                    <div className=\"mb-4\">\r\n                      <h2 className=\"mb-1 text-muted\">Healthhepta.com</h2>\r\n                    </div>\r\n                    <div className=\"text-muted\">\r\n                      <p className=\"mb-1\">Po- Gokarna, Ps- Kandi, Gokarna, Murshidabad</p>\r\n                      <p className=\"mb-1\"><i className=\"uil uil-envelope-alt me-1\"></i>  Murshidabad, West Bengal, India</p>\r\n                      <p><i className=\"uil uil-phone me-1\"></i>742136</p>\r\n                    </div>\r\n                  </div>\r\n                  <hr className=\"my-4\" />\r\n                  <div className=\"row\">\r\n                    <div className=\"col-sm-6\">\r\n                      <div className=\"text-muted\">\r\n                        <h5 className=\"font-size-16 mb-3\">Billed To:</h5>\r\n                        <h5 className=\"font-size-15 mb-2\">{customer.name}</h5>\r\n                        <p className=\"mb-1\">{customer.phone}</p>\r\n                        <p className=\"mb-1\">{customer.name}, {customer.Village},{customer.P_O},{customer.City},{customer.district},{customer.State},{customer.Pin}</p>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-sm-6\">\r\n                      <div className=\"text-muted text-sm-end\">\r\n                        <div>\r\n                          <h5 className=\"font-size-15 mb-1\">Order No:</h5>\r\n                          <p>{orderDetail.length>0 ? orderDetail[0].id : undefined}</p>\r\n                        </div>\r\n                        <div className=\"mt-4\">\r\n                          <h5 className=\"font-size-15 mb-1\">Order Date:</h5>\r\n                          <p>{orderDetail.length>0 ? orderDetail[0].order_date : undefined}</p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"py-2\">\r\n                    <h5 className=\"font-size-15\">Order Summary</h5>\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table align-middle table-nowrap table-centered mb-0\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th style={{ width: '70px' }}>No.</th>\r\n                            <th>Item</th>\r\n                            <th>Price</th>\r\n                            <th>Quantity</th>\r\n                            <th className=\"text-end\" style={{ width: '120px' }}>Total</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {order.map((orders, index) => (\r\n                            <tr key={index}>\r\n                              <th scope=\"row\">{orders.product_id}</th>\r\n                              <td>\r\n                                <div>\r\n                                  <h5 className=\"text-truncate font-size-14 mb-1\">{orders.product_name}</h5>\r\n                                  <p className=\"text-muted mb-0\">{orders.description}</p>\r\n                                </div>\r\n                              </td>\r\n                              <td>₹ {orders.product_price}</td>\r\n                              <td>{orders.quantity}</td>\r\n                              <td className=\"text-end\">₹{orders.quantity * orders.product_price}</td>\r\n                            </tr>\r\n                          ))}\r\n                          <tr>\r\n                          </tr>\r\n                          <tr>\r\n                            <th scope=\"row\" colspan=\"4\" className=\"text-end\">Sub Total</th>\r\n                            <td className=\"text-end\">₹{totalActusalPrice}</td>\r\n                          </tr>\r\n                          <tr>\r\n                            <th scope=\"row\" colspan=\"4\" className=\"border-0 text-end\">\r\n                              Discount :</th>\r\n                            <td className=\"border-0 text-end\">₹{totalPrice}</td>\r\n                          </tr>\r\n                          <tr>\r\n                            <th scope=\"row\" colspan=\"4\" className=\"border-0 text-end\">\r\n                              Shipping Charge :</th>\r\n                            <td className=\"border-0 text-end\">₹{delevaryCharge}</td>\r\n                          </tr>\r\n\r\n                          <tr>\r\n                            <th scope=\"row\" colspan=\"4\" className=\"border-0 text-end\">\r\n                              Tax</th>\r\n                            <td className=\"border-0 text-end\">₹ {totalGst}</td>\r\n                          </tr>\r\n\r\n                          <tr>\r\n                            <th scope=\"row\" colspan=\"4\" className=\"border-0 text-end\">Total</th>\r\n                            <td className=\"border-0 text-end\"><h4 className=\"m-0 fw-semibold\">₹{(totalActusalPrice - totalPrice + delevaryCharge + totalGst)} </h4></td>\r\n                          </tr>\r\n\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                    <div className=\"d-print-none mt-4\">\r\n                      <div className=\"float-end\">\r\n                        <a href=\"javascript:window.print()\" className=\"btn btn-success me-1\"><i className=\"fa fa-print\">Print</i></a>\r\n                      </div>\r\n                      <div>\r\n                        <Link to='/b2b-home'> <button className='btn btn-primary'>Go to Home </button></Link>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"sourceRoot":""}